{"remainingRequest":"/Users/will/code/fake apps/app2/Admin/node_modules/babel-loader/lib/index.js!/Users/will/code/fake apps/app2/Admin/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/will/code/fake apps/app2/Admin/src/authUtils.js","dependencies":[{"path":"/Users/will/code/fake apps/app2/Admin/src/authUtils.js","mtime":1635877480000},{"path":"/Users/will/code/fake apps/app2/Admin/babel.config.js","mtime":1594907270000},{"path":"/Users/will/code/fake apps/app2/Admin/node_modules/cache-loader/dist/cjs.js","mtime":1618860734223},{"path":"/Users/will/code/fake apps/app2/Admin/node_modules/babel-loader/lib/index.js","mtime":1649340985036},{"path":"/Users/will/code/fake apps/app2/Admin/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1618860734066}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvd2lsbC9jb2RlL2Zha2UgYXBwcy9hcHAyL0FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL3dpbGwvY29kZS9mYWtlIGFwcHMvYXBwMi9BZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy93aWxsL2NvZGUvZmFrZSBhcHBzL2FwcDIvQWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBmaXJlYmFzZSBmcm9tICdmaXJlYmFzZS9hcHAnOyAvLyBBZGQgdGhlIEZpcmViYXNlIHByb2R1Y3RzIHRoYXQgeW91IHdhbnQgdG8gdXNlCgppbXBvcnQgImZpcmViYXNlL2F1dGgiOwppbXBvcnQgImZpcmViYXNlL2ZpcmVzdG9yZSI7Cgp2YXIgRmlyZWJhc2VBdXRoQmFja2VuZCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gRmlyZWJhc2VBdXRoQmFja2VuZChmaXJlYmFzZUNvbmZpZykgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRmlyZWJhc2VBdXRoQmFja2VuZCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJyZWdpc3RlclVzZXIiLCBmdW5jdGlvbiAodXNlcm5hbWUsIGVtYWlsLCBwYXNzd29yZCkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycwogICAgICAgIGZpcmViYXNlLmF1dGgoKS5jcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQoZW1haWwsIHBhc3N3b3JkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIHZhciB1c2VyID0gZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyLnVwZGF0ZVByb2ZpbGUoewogICAgICAgICAgICBkaXNwbGF5TmFtZTogdXNlcm5hbWUKICAgICAgICAgIH0pOwogICAgICAgICAgcmVzb2x2ZSh1c2VyKTsKICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIHJlamVjdChfdGhpcy5faGFuZGxlRXJyb3IoZXJyb3IpKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImxvZ2luVXNlciIsIGZ1bmN0aW9uIChlbWFpbCwgcGFzc3dvcmQpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoZW1haWwsIHBhc3N3b3JkKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciB1c2VyID0gZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyOwogICAgICAgICAgcmVzb2x2ZSh1c2VyKTsKICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIHJlamVjdChfdGhpcy5faGFuZGxlRXJyb3IoZXJyb3IpKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImZvcmdldFBhc3N3b3JkIiwgZnVuY3Rpb24gKGVtYWlsKSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgZmlyZWJhc2UuYXV0aCgpLnNlbmRQYXNzd29yZFJlc2V0RW1haWwoZW1haWwsIHsKICAgICAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgIi8vIiArIHdpbmRvdy5sb2NhdGlvbi5ob3N0ICsgIi9sb2dpbiIKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJlc29sdmUodHJ1ZSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZWplY3QoX3RoaXMuX2hhbmRsZUVycm9yKGVycm9yKSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJsb2dvdXQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25PdXQoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJlc29sdmUodHJ1ZSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZWplY3QoX3RoaXMuX2hhbmRsZUVycm9yKGVycm9yKSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJzZXRMb2dnZWVkSW5Vc2VyIiwgZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgiYXV0aFVzZXIiLCBKU09OLnN0cmluZ2lmeSh1c2VyKSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImdldEF1dGhlbnRpY2F0ZWRVc2VyIiwgZnVuY3Rpb24gKCkgewogICAgICBpZiAoIXNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2F1dGhVc2VyJykpIHJldHVybiBudWxsOwogICAgICByZXR1cm4gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdhdXRoVXNlcicpKTsKICAgIH0pOwoKICAgIGlmIChmaXJlYmFzZUNvbmZpZykgewogICAgICAvLyBJbml0aWFsaXplIEZpcmViYXNlCiAgICAgIGZpcmViYXNlLmluaXRpYWxpemVBcHAoZmlyZWJhc2VDb25maWcpOwogICAgICBmaXJlYmFzZS5hdXRoKCkub25BdXRoU3RhdGVDaGFuZ2VkKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgaWYgKHVzZXIpIHsKICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oImF1dGhVc2VyIiwgSlNPTi5zdHJpbmdpZnkodXNlcikpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCdhdXRoVXNlcicpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQogIC8qKg0KICAgKiBSZWdpc3RlcnMgdGhlIHVzZXIgd2l0aCBnaXZlbiBkZXRhaWxzDQogICAqLwoKCiAgX2NyZWF0ZUNsYXNzKEZpcmViYXNlQXV0aEJhY2tlbmQsIFt7CiAgICBrZXk6ICJfaGFuZGxlRXJyb3IiLAogICAgdmFsdWU6CiAgICAvKioNCiAgICAgKiBIYW5kbGUgdGhlIGVycm9yDQogICAgICogQHBhcmFtIHsqfSBlcnJvciANCiAgICAgKi8KICAgIGZ1bmN0aW9uIF9oYW5kbGVFcnJvcihlcnJvcikgewogICAgICB2YXIgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTsKICAgICAgcmV0dXJuIGVycm9yTWVzc2FnZTsKICAgIH0KICB9XSk7CgogIHJldHVybiBGaXJlYmFzZUF1dGhCYWNrZW5kOwp9KCk7Cgp2YXIgX2ZpcmVCYXNlQmFja2VuZCA9IG51bGw7Ci8qKg0KICogSW5pdGlsaXplIHRoZSBiYWNrZW5kDQogKiBAcGFyYW0geyp9IGNvbmZpZyANCiAqLwoKdmFyIGluaXRGaXJlYmFzZUJhY2tlbmQgPSBmdW5jdGlvbiBpbml0RmlyZWJhc2VCYWNrZW5kKGNvbmZpZykgewogIGlmICghX2ZpcmVCYXNlQmFja2VuZCkgewogICAgX2ZpcmVCYXNlQmFja2VuZCA9IG5ldyBGaXJlYmFzZUF1dGhCYWNrZW5kKGNvbmZpZyk7CiAgfQoKICByZXR1cm4gX2ZpcmVCYXNlQmFja2VuZDsKfTsKLyoqDQogKiBSZXR1cm5zIHRoZSBmaXJlYmFzZSBiYWNrZW5kDQogKi8KCgp2YXIgZ2V0RmlyZWJhc2VCYWNrZW5kID0gZnVuY3Rpb24gZ2V0RmlyZWJhc2VCYWNrZW5kKCkgewogIHJldHVybiBfZmlyZUJhc2VCYWNrZW5kOwp9OwoKZXhwb3J0IHsgaW5pdEZpcmViYXNlQmFja2VuZCwgZ2V0RmlyZWJhc2VCYWNrZW5kIH07"},{"version":3,"sources":["/Users/will/code/fake apps/app2/Admin/src/authUtils.js"],"names":["firebase","FirebaseAuthBackend","firebaseConfig","username","email","password","Promise","resolve","reject","auth","createUserWithEmailAndPassword","then","res","user","currentUser","updateProfile","displayName","error","_handleError","signInWithEmailAndPassword","sendPasswordResetEmail","url","window","location","protocol","host","catch","signOut","sessionStorage","setItem","JSON","stringify","getItem","parse","initializeApp","onAuthStateChanged","removeItem","errorMessage","message","_fireBaseBackend","initFirebaseBackend","config","getFirebaseBackend"],"mappings":"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","sourcesContent":["import firebase from 'firebase/app';\r\n// Add the Firebase products that you want to use\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\n\r\nclass FirebaseAuthBackend {\r\n    constructor(firebaseConfig) {\r\n        if (firebaseConfig) {\r\n            // Initialize Firebase\r\n            firebase.initializeApp(firebaseConfig);\r\n            firebase.auth().onAuthStateChanged((user) => {\r\n                if (user) {\r\n                    sessionStorage.setItem(\"authUser\", JSON.stringify(user));\r\n                } else {\r\n                    sessionStorage.removeItem('authUser');\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Registers the user with given details\r\n     */\r\n    registerUser = (username, email, password) => {\r\n        return new Promise((resolve, reject) => {\r\n            // eslint-disable-next-line no-unused-vars\r\n            firebase.auth().createUserWithEmailAndPassword(email, password).then((res) => {\r\n                let user = firebase.auth().currentUser.updateProfile({\r\n                     displayName: username\r\n                   });\r\n                resolve(user);\r\n            }, (error) => {\r\n                reject(this._handleError(error));\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Login user with given details\r\n     */\r\n    loginUser = (email, password) => {\r\n        return new Promise((resolve, reject) => {\r\n            firebase.auth().signInWithEmailAndPassword(email, password).then(() => {\r\n                var user = firebase.auth().currentUser;\r\n                resolve(user);\r\n            }, (error) => {\r\n                reject(this._handleError(error));\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * forget Password user with given details\r\n     */\r\n    forgetPassword = (email) => {\r\n        return new Promise((resolve, reject) => {\r\n            firebase.auth().sendPasswordResetEmail(email, { url: window.location.protocol + \"//\" + window.location.host + \"/login\" }).then(() => {\r\n                resolve(true);\r\n            }).catch((error) => {\r\n                reject(this._handleError(error));\r\n            })\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Logout the user\r\n     */\r\n    logout = () => {\r\n        return new Promise((resolve, reject) => {\r\n            firebase.auth().signOut().then(() => {\r\n                resolve(true);\r\n            }).catch((error) => {\r\n                reject(this._handleError(error));\r\n            })\r\n        });\r\n    }\r\n\r\n    setLoggeedInUser = (user) => {\r\n        sessionStorage.setItem(\"authUser\", JSON.stringify(user));\r\n    }\r\n\r\n    /**\r\n     * Returns the authenticated user\r\n     */\r\n    getAuthenticatedUser = () => {\r\n        if (!sessionStorage.getItem('authUser'))\r\n            return null;\r\n        return JSON.parse(sessionStorage.getItem('authUser'));\r\n    }\r\n\r\n    /**\r\n     * Handle the error\r\n     * @param {*} error \r\n     */\r\n    _handleError(error) {\r\n        var errorMessage = error.message;\r\n        return errorMessage;\r\n    }\r\n}\r\n\r\nlet _fireBaseBackend = null;\r\n\r\n/**\r\n * Initilize the backend\r\n * @param {*} config \r\n */\r\nconst initFirebaseBackend = (config) => {\r\n    if (!_fireBaseBackend) {\r\n        _fireBaseBackend = new FirebaseAuthBackend(config);\r\n    }\r\n    return _fireBaseBackend;\r\n}\r\n\r\n/**\r\n * Returns the firebase backend\r\n */\r\nconst getFirebaseBackend = () => {\r\n    return _fireBaseBackend;\r\n}\r\n\r\nexport { initFirebaseBackend, getFirebaseBackend };"]}]}